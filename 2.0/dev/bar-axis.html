<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
	<link rel="stylesheet" charset="utf-8" href="http://g.tbcdn.cn/kissy/k/1.4.0/css/dpl/base-min.css">
    <script charset="utf-8" src="http://g.tbcdn.cn/kissy/k/1.4.0/seed-min.js"></script>
    <script type="text/javascript" src="../raphael/index.js"></script>
    <script type="text/javascript" src="../graph/index.js"></script>
    <script type="text/javascript" src="../base/index.js"></script>
    <script type="text/javascript" src="../base/util.js"></script>
    <script type="text/javascript" src="../bar/index.js"></script>
    <script type="text/javascript" src="../adapter/kissy.js"></script>
    
    <!-- 坐标轴、网格支持 -->
    <script type="text/javascript" src="../w-axis/index.js"></script>
    <script type="text/javascript" src="../w-grid/index.js"></script>

    <title>bar</title>
  </head>
  <body>
    <div id="J_Canvas" style="width:700px;height:400px;border:1px solid #999;margin:20px 0 0 20px;">
    </div>
    <script>
     // 一、基础API
     // 1. 使用方式一，很自然的实现多种图表的混搭
     KISSY.use("gallery/kcharts/2.0/graph/index,gallery/kcharts/2.0/bar/index,gallery/kcharts/2.0/w-axis/index,gallery/kcharts/2.0/w-grid/index",function(S,KCharts,Bar,Axis,Grid){
       // 图表容器
       var chart = new KCharts({renderTo:"#J_Canvas"});       
       
       // 注意，现在只能定义x轴的文案
       // TODO, y轴的label文案应该提供自定义函数来支持
       var series = [
         {"data":[{"yval":2,"xtext":"st."},{"yval":4}]},
         {"data":[{"yval":1},{"yval":1}]},
         {"data":[{"yval":1},{"yval":1}]},
         {"data":[{"yval":1},{"yval":1}]},
         {"data":[{"yval":1},{"yval":2}]},
         {"data":[{"yval":1},{"yval":3}]}
       ];
       
       // 柱状图
       var bar = new Bar({
         series:series
       });
       chart.add(bar);
       
       // widget axis
       var axis = new Axis({
         doubleY:true, // 双y轴
         doubleX:true  // 双x轴
       });
       bar.plug(axis);

     });
    </script>
  </body>
</html>
